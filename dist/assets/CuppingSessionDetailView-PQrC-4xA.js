import{r as u,k as B,y as n,A as s,J as f,M as a,L as b,D as w,O as C,a6 as S,ay as L,ax as M,z as i}from"./vue-vendor-BT5MiFnI.js";import{_ as P}from"./index-Bzmosz0d.js";import{f as I}from"./format-CBpsKyOP.js";const A={class:"cupping-session-detail"},E={class:"page-header"},F={class:"header-content"},T={class:"subtitle"},$={class:"header-actions"},j={key:0,class:"loading-state"},z={key:1,class:"error-state"},O={key:2,class:"session-content"},R={class:"content-grid"},J={class:"card"},U={class:"card-body"},q={class:"info-grid"},G={class:"info-item"},H={class:"info-item"},K={class:"info-item"},Q={class:"info-item"},W={class:"card"},X={class:"card-body"},Y={key:0,class:"samples-list"},Z={class:"sample-info"},ss={class:"sample-actions"},ts=["onClick"],es={key:1,class:"empty-state"},os={class:"card"},ns={class:"card-body"},is={key:0,class:"participants-list"},as={class:"participant-info"},ls={class:"avatar"},ds={class:"details"},cs={class:"name"},rs={class:"role"},us={class:"participant-status"},ps={key:1,class:"empty-state"},vs={class:"card"},ms={class:"card-body"},_s={key:0,class:"notes-content"},ys={key:1,class:"empty-state"},hs={__name:"CuppingSessionDetailView",setup(gs){const p=L(),v=M(),e=u(null),c=u(!0),d=u(null),r=async()=>{c.value=!0,d.value=null;try{const o=await fetch(`/api/cupping-sessions/${p.params.id}`);if(!o.ok)throw new Error("Failed to fetch session");e.value=await o.json()}catch(o){d.value=o.message}finally{c.value=!1}},m=o=>o?I(new Date(o),"MMM d, yyyy"):"N/A",D=o=>o.split(" ").map(t=>t[0]).join("").toUpperCase(),N=()=>{v.back()},x=o=>{v.push({name:"sample-detail",params:{id:o}})},V=async()=>{try{if(!(await fetch(`/api/cupping-sessions/${p.params.id}/complete`,{method:"POST"})).ok)throw new Error("Failed to complete session");await r()}catch(o){d.value=o.message}};return B(r),(o,t)=>{var _,y,h,g,k;return i(),n("div",A,[s("div",E,[s("div",F,[t[0]||(t[0]=s("h1",null,"Cupping Session",-1)),s("p",T,a(m((_=e.value)==null?void 0:_.date)||"Loading session details..."),1)]),s("div",$,[s("button",{class:"btn btn-outline",onClick:N},t[1]||(t[1]=[s("i",{class:"el-icon-back"},null,-1),b(" Back ")])),(y=e.value)!=null&&y.completed?f("",!0):(i(),n("button",{key:0,class:"btn btn-primary",onClick:V},t[2]||(t[2]=[s("i",{class:"el-icon-check"},null,-1),b(" Complete Session ")])))])]),c.value?(i(),n("div",j,t[3]||(t[3]=[s("div",{class:"spinner"},null,-1),s("p",null,"Loading session details...",-1)]))):d.value?(i(),n("div",z,[t[4]||(t[4]=s("i",{class:"el-icon-warning"},null,-1)),s("p",null,a(d.value),1),s("button",{class:"btn btn-primary",onClick:r},"Try Again")])):e.value?(i(),n("div",O,[s("div",R,[s("div",J,[t[9]||(t[9]=s("div",{class:"card-header"},[s("h3",null,"Session Information")],-1)),s("div",U,[s("div",q,[s("div",G,[t[5]||(t[5]=s("label",null,"Date",-1)),s("span",null,a(m(e.value.date)),1)]),s("div",H,[t[6]||(t[6]=s("label",null,"Status",-1)),s("span",{class:w(["status",e.value.completed?"completed":"in-progress"])},a(e.value.completed?"Completed":"In Progress"),3)]),s("div",K,[t[7]||(t[7]=s("label",null,"Location",-1)),s("span",null,a(e.value.location),1)]),s("div",Q,[t[8]||(t[8]=s("label",null,"Participants",-1)),s("span",null,a(((h=e.value.participants)==null?void 0:h.length)||0)+" cuppers",1)])])])]),s("div",W,[t[11]||(t[11]=s("div",{class:"card-header"},[s("h3",null,"Samples")],-1)),s("div",X,[(g=e.value.samples)!=null&&g.length?(i(),n("div",Y,[(i(!0),n(C,null,S(e.value.samples,l=>(i(),n("div",{key:l.id,class:"sample-item"},[s("div",Z,[s("h4",null,a(l.name),1),s("p",null,a(l.origin),1)]),s("div",ss,[s("button",{class:"btn btn-text",onClick:ks=>x(l.id)}," View Details ",8,ts)])]))),128))])):(i(),n("div",es,t[10]||(t[10]=[s("p",null,"No samples added to this session yet.",-1)])))])]),s("div",os,[t[13]||(t[13]=s("div",{class:"card-header"},[s("h3",null,"Participants")],-1)),s("div",ns,[(k=e.value.participants)!=null&&k.length?(i(),n("div",is,[(i(!0),n(C,null,S(e.value.participants,l=>(i(),n("div",{key:l.id,class:"participant-item"},[s("div",as,[s("div",ls,a(D(l.name)),1),s("div",ds,[s("span",cs,a(l.name),1),s("span",rs,a(l.role),1)])]),s("div",us,[s("span",{class:w(["status",l.completed?"completed":"pending"])},a(l.completed?"Completed":"Pending"),3)])]))),128))])):(i(),n("div",ps,t[12]||(t[12]=[s("p",null,"No participants added to this session yet.",-1)])))])]),s("div",vs,[t[15]||(t[15]=s("div",{class:"card-header"},[s("h3",null,"Session Notes")],-1)),s("div",ms,[e.value.notes?(i(),n("div",_s,[s("p",null,a(e.value.notes),1)])):(i(),n("div",ys,t[14]||(t[14]=[s("p",null,"No notes added to this session yet.",-1)])))])])])])):f("",!0)])}}},Cs=P(hs,[["__scopeId","data-v-56499066"]]);export{Cs as default};
