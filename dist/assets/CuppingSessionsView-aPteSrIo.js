import{_ as H}from"./no-results-DsLkuETs.js";import{r as _,k as I,y as p,A as e,P as t,H as l,ag as a,D as A,O,a6 as U,ax as j,z as r,L as o,M as g}from"./vue-vendor-BT5MiFnI.js";import{u as q}from"./cupping.store-3IcC1xyy.js";import{_ as G,a as J}from"./index-BLlFbjoM.js";const K={class:"cupping-sessions-view"},Q={class:"page-header"},W={class:"header-actions"},X={class:"view-toggles"},Y={class:"sessions-container"},Z={key:0,class:"loading-state"},h={key:1,class:"empty-state"},ss={key:2},es={key:0,class:"sessions-list"},ts={key:1,class:"sessions-grid"},ns={class:"session-details"},ls={class:"session-actions"},os={class:"pagination"},is={__name:"CuppingSessionsView",setup(as){const S=j(),b=q(),v=J(),c=_([]),y=_(!0),m=_("list"),w=_(1),N=_(10),x=_(0);I(async()=>{await C()});const C=async()=>{y.value=!0;try{const i=await b.fetchSessions({page:w.value,limit:N.value});c.value=i.data,x.value=i.pagination.total}catch{v.addNotification({type:"error",message:"Failed to fetch cupping sessions"})}finally{y.value=!1}},M=i=>{w.value=i,C()},z=i=>{S.push(i)},$=i=>{S.push(`/cupping-sessions/${i}`)},D=async i=>{try{await b.deleteSession(i),v.addNotification({type:"success",message:"Cupping session deleted successfully"}),C()}catch{v.addNotification({type:"error",message:"Failed to delete cupping session"})}},B=()=>{v.addNotification({type:"info",message:"Exporting data..."})},V=i=>{switch(i){case"completed":return"success";case"in_progress":return"warning";case"pending":return"info";default:return""}};return(i,s)=>{const u=a("el-button"),f=a("el-dropdown-item"),E=a("el-dropdown-menu"),F=a("el-dropdown"),P=a("el-spinner"),d=a("el-table-column"),L=a("el-tag"),T=a("el-table"),R=a("el-pagination");return r(),p("div",K,[e("div",Q,[s[13]||(s[13]=e("h1",null,"Cupping sessions",-1)),s[14]||(s[14]=e("h2",null,"Let's start cupping!",-1)),e("div",W,[t(u,{type:"primary",onClick:s[0]||(s[0]=n=>z("/cupping-sessions/new"))},{default:l(()=>s[4]||(s[4]=[e("i",{class:"el-icon-plus"},null,-1),o(" New cupping session ")])),_:1,__:[4]}),t(u,{plain:"",onClick:B},{default:l(()=>s[5]||(s[5]=[e("i",{class:"el-icon-download"},null,-1),o(" Export ")])),_:1,__:[5]}),t(F,null,{dropdown:l(()=>[t(E,null,{default:l(()=>[t(f,null,{default:l(()=>s[7]||(s[7]=[o("All sessions")])),_:1,__:[7]}),t(f,null,{default:l(()=>s[8]||(s[8]=[o("My sessions")])),_:1,__:[8]}),t(f,null,{default:l(()=>s[9]||(s[9]=[o("Shared with me")])),_:1,__:[9]}),t(f,null,{default:l(()=>s[10]||(s[10]=[o("Archived")])),_:1,__:[10]})]),_:1})]),default:l(()=>[t(u,{plain:""},{default:l(()=>s[6]||(s[6]=[o(" No filter "),e("i",{class:"el-icon-arrow-down"},null,-1)])),_:1,__:[6]})]),_:1}),e("div",X,[e("button",{class:A({active:m.value==="list"}),onClick:s[1]||(s[1]=n=>m.value="list")},s[11]||(s[11]=[e("i",{class:"el-icon-menu"},null,-1)]),2),e("button",{class:A({active:m.value==="grid"}),onClick:s[2]||(s[2]=n=>m.value="grid")},s[12]||(s[12]=[e("i",{class:"el-icon-s-grid"},null,-1)]),2)])])]),e("div",Y,[y.value?(r(),p("div",Z,[t(P),s[15]||(s[15]=e("p",null,"Loading cupping sessions...",-1))])):c.value.length===0?(r(),p("div",h,[s[17]||(s[17]=e("img",{src:H,alt:"No Results",class:"icon"},null,-1)),s[18]||(s[18]=e("h2",{class:"title"},"No results found",-1)),s[19]||(s[19]=e("p",{class:"description"},"No cupping sessions have been created yet. Start by creating your first session.",-1)),t(u,{type:"primary",onClick:s[3]||(s[3]=n=>z("/cupping-sessions/new"))},{default:l(()=>s[16]||(s[16]=[e("i",{class:"el-icon-plus"},null,-1),o(" New cupping session ")])),_:1,__:[16]})])):(r(),p("div",ss,[m.value==="list"?(r(),p("div",es,[t(T,{data:c.value,style:{width:"100%"}},{default:l(()=>[t(d,{prop:"name",label:"Name"}),t(d,{prop:"date",label:"Date"}),t(d,{prop:"location",label:"Location"}),t(d,{prop:"sampleCount",label:"Samples"}),t(d,{prop:"cupperCount",label:"Cuppers"}),t(d,{prop:"status",label:"Status"},{default:l(n=>[t(L,{type:V(n.row.status)},{default:l(()=>[o(g(n.row.status),1)]),_:2},1032,["type"])]),_:1}),t(d,{label:"Actions",width:"150"},{default:l(n=>[t(u,{size:"small",onClick:k=>$(n.row.id)},{default:l(()=>s[20]||(s[20]=[o("View")])),_:2,__:[20]},1032,["onClick"]),t(u,{size:"small",type:"danger",onClick:k=>D(n.row.id)},{default:l(()=>s[21]||(s[21]=[o("Delete")])),_:2,__:[21]},1032,["onClick"])]),_:1})]),_:1},8,["data"])])):(r(),p("div",ts,[(r(!0),p(O,null,U(c.value,n=>(r(),p("div",{key:n.id,class:"session-card"},[e("h3",null,g(n.name),1),e("div",ns,[e("p",null,[s[22]||(s[22]=e("strong",null,"Date:",-1)),o(" "+g(n.date),1)]),e("p",null,[s[23]||(s[23]=e("strong",null,"Location:",-1)),o(" "+g(n.location),1)]),e("p",null,[s[24]||(s[24]=e("strong",null,"Samples:",-1)),o(" "+g(n.sampleCount),1)]),e("p",null,[s[25]||(s[25]=e("strong",null,"Cuppers:",-1)),o(" "+g(n.cupperCount),1)]),e("p",null,[t(L,{type:V(n.status)},{default:l(()=>[o(g(n.status),1)]),_:2},1032,["type"])])]),e("div",ls,[t(u,{size:"small",onClick:k=>$(n.id)},{default:l(()=>s[26]||(s[26]=[o("View")])),_:2,__:[26]},1032,["onClick"]),t(u,{size:"small",type:"danger",onClick:k=>D(n.id)},{default:l(()=>s[27]||(s[27]=[o("Delete")])),_:2,__:[27]},1032,["onClick"])])]))),128))])),e("div",os,[t(R,{layout:"prev, pager, next",total:x.value,"page-size":N.value,"current-page":w.value,onCurrentChange:M},null,8,["total","page-size","current-page"])])]))])])}}},gs=G(is,[["__scopeId","data-v-1134f735"]]);export{gs as default};
