import{r as u,k as D,y as n,A as s,J as L,M as e,L as C,O as p,a6 as v,ay as S,ax as B,z as i}from"./vue-vendor-BT5MiFnI.js";import{_ as V}from"./index-BrO_L7mm.js";import{f as x}from"./format-CBpsKyOP.js";const M={class:"sample-detail"},A={class:"page-header"},I={class:"header-content"},F={class:"subtitle"},R={key:0,class:"loading-state"},j={key:1,class:"error-state"},E={key:2,class:"sample-content"},H={class:"content-grid"},O={class:"card"},T={class:"card-body"},z={class:"info-grid"},J={class:"info-item"},P={class:"info-item"},U={class:"info-item"},$={class:"info-item"},q={class:"info-item"},G={class:"info-item"},K={class:"card"},Q={class:"card-body"},W={key:0,class:"notes-list"},X={class:"note-header"},Y={class:"cupper-info"},Z={class:"avatar"},ss={class:"details"},ts={class:"name"},es={class:"date"},ls={class:"score"},as={class:"note-content"},ns={class:"flavor-tags"},is={key:1,class:"empty-state"},os={class:"card"},ds={class:"card-body"},rs={class:"timeline"},cs={class:"timeline-date"},us={class:"timeline-content"},ps={__name:"SampleDetailView",setup(vs){const _=S(),m=B(),l=u(null),r=u(!0),d=u(null),y=async()=>{r.value=!0,d.value=null;try{const o=await fetch(`/api/samples/${_.params.id}`);if(!o.ok)throw new Error("Failed to fetch sample");l.value=await o.json()}catch(o){d.value=o.message}finally{r.value=!1}},c=o=>o?x(new Date(o),"MMM d, yyyy"):"N/A",N=o=>o.split(" ").map(t=>t[0]).join("").toUpperCase(),w=()=>{m.back()},g=()=>{m.push({name:"new-cupping",params:{sampleId:_.params.id}})};return D(y),(o,t)=>{var h,b,f;return i(),n("div",M,[s("div",A,[s("div",I,[s("h1",null,e(((h=l.value)==null?void 0:h.name)||"Loading..."),1),s("p",F,e(((b=l.value)==null?void 0:b.origin)||"Loading sample details..."),1)]),s("div",{class:"header-actions"},[s("button",{class:"btn btn-outline",onClick:w},t[0]||(t[0]=[s("i",{class:"el-icon-back"},null,-1),C(" Back ")])),s("button",{class:"btn btn-primary",onClick:g},t[1]||(t[1]=[s("i",{class:"el-icon-cup"},null,-1),C(" Start Cupping ")]))])]),r.value?(i(),n("div",R,t[2]||(t[2]=[s("div",{class:"spinner"},null,-1),s("p",null,"Loading sample details...",-1)]))):d.value?(i(),n("div",j,[t[3]||(t[3]=s("i",{class:"el-icon-warning"},null,-1)),s("p",null,e(d.value),1),s("button",{class:"btn btn-primary",onClick:y},"Try Again")])):l.value?(i(),n("div",E,[s("div",H,[s("div",O,[t[10]||(t[10]=s("div",{class:"card-header"},[s("h3",null,"Basic Information")],-1)),s("div",T,[s("div",z,[s("div",J,[t[4]||(t[4]=s("label",null,"Origin",-1)),s("span",null,e(l.value.origin),1)]),s("div",P,[t[5]||(t[5]=s("label",null,"Variety",-1)),s("span",null,e(l.value.variety),1)]),s("div",U,[t[6]||(t[6]=s("label",null,"Process",-1)),s("span",null,e(l.value.process),1)]),s("div",$,[t[7]||(t[7]=s("label",null,"Altitude",-1)),s("span",null,e(l.value.altitude)+"m",1)]),s("div",q,[t[8]||(t[8]=s("label",null,"Harvest Date",-1)),s("span",null,e(c(l.value.harvestDate)),1)]),s("div",G,[t[9]||(t[9]=s("label",null,"Roast Level",-1)),s("span",null,e(l.value.roastLevel),1)])])])]),s("div",K,[t[12]||(t[12]=s("div",{class:"card-header"},[s("h3",null,"Cupping Notes")],-1)),s("div",Q,[(f=l.value.cuppingNotes)!=null&&f.length?(i(),n("div",W,[(i(!0),n(p,null,v(l.value.cuppingNotes,a=>(i(),n("div",{key:a.id,class:"note-item"},[s("div",X,[s("div",Y,[s("div",Z,e(N(a.cupperName)),1),s("div",ss,[s("span",ts,e(a.cupperName),1),s("span",es,e(c(a.date)),1)])]),s("div",ls,e(a.score)+"/100",1)]),s("div",as,[s("p",null,e(a.notes),1)]),s("div",ns,[(i(!0),n(p,null,v(a.flavors,k=>(i(),n("span",{key:k,class:"tag"},e(k),1))),128))])]))),128))])):(i(),n("div",is,[t[11]||(t[11]=s("p",null,"No cupping notes available yet.",-1)),s("button",{class:"btn btn-primary",onClick:g},"Start First Cupping")]))])]),s("div",os,[t[13]||(t[13]=s("div",{class:"card-header"},[s("h3",null,"Sample History")],-1)),s("div",ds,[s("div",rs,[(i(!0),n(p,null,v(l.value.history,a=>(i(),n("div",{key:a.id,class:"timeline-item"},[s("div",cs,e(c(a.date)),1),s("div",us,[s("h4",null,e(a.title),1),s("p",null,e(a.description),1)])]))),128))])])])])])):L("",!0)])}}},gs=V(ps,[["__scopeId","data-v-1b3e7c89"]]);export{gs as default};
