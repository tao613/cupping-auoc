import{r as D,X as R,y as b,A as r,P as l,H as t,ag as n,V as x,ax as B,z as p,L as v,O as y,a6 as U,u as M,G}from"./vue-vendor-BT5MiFnI.js";import{u as I}from"./samples.store-BQj4zxPb.js";import{_ as W,a as L}from"./index-BLlFbjoM.js";const P={class:"new-sample-view"},Y={class:"page-header"},z={class:"form-container"},F={class:"form-section"},H={class:"form-row"},T={class:"form-row"},O={class:"form-section"},q={class:"form-row"},K={class:"form-row"},X={class:"form-row"},j={class:"form-row"},J={class:"form-section"},Q={class:"form-row"},Z={class:"form-row"},$={class:"form-section"},ee={class:"form-row"},le={class:"form-row"},ae={class:"form-section"},oe={class:"form-row"},te={class:"form-row"},re={class:"form-section"},de={class:"form-row"},se={class:"input-with-unit"},ue={class:"form-row"},ne={class:"form-section"},ie={class:"form-row"},me={class:"input-with-unit"},pe={class:"input-with-unit"},fe={class:"form-row"},Ve={class:"input-with-unit"},ce={class:"form-section"},be={class:"form-row"},ve={class:"input-with-unit"},_e={class:"form-row"},ge={class:"input-with-unit"},we={class:"form-section"},ye={class:"form-row"},Ue={class:"form-row"},Se={class:"form-section"},he={class:"form-row"},Ee={class:"form-row"},Ce={class:"form-section"},Ne={class:"form-row full-width"},ke={class:"form-row full-width"},Ae={class:"form-actions"},De={__name:"NewSampleView",setup(Re){const _=B(),S=I(),f=L(),V=D(!1),h=[{value:"brazil",label:"Brazil"},{value:"colombia",label:"Colombia"},{value:"ethiopia",label:"Ethiopia"},{value:"guatemala",label:"Guatemala"},{value:"honduras",label:"Honduras"},{value:"indonesia",label:"Indonesia"},{value:"kenya",label:"Kenya"},{value:"mexico",label:"Mexico"},{value:"peru",label:"Peru"},{value:"vietnam",label:"Vietnam"}],g=new Date().getFullYear(),E=Array.from({length:10},(c,e)=>(g-5+e).toString()),o=R({name:"",country:"",type:"",grade:"",purchaseGrade:"",supplier:"",producer:"",purchaseRef:"",strategy:"",customer:"",customerCode:"",salesRef:"",receivedDate:null,dispatchDate:null,arrivalDate:null,resultsDate:null,harvest:"",externalId:"",referenceNumber:"",sampleReference:"",processing:"",certification:"",protocol:"",species:"",varietals:"",receivedWeight:"",cropYear:g.toString(),bagCount:"",bagWeight:"",moisture:"",waterActivity:"",density:"",temperature:"",mass:"",volume:"",warehouse:"",location:"",shipmentMonth:null,cargoSeal:"",containerNumber:"",lotNumber:"",courier:"",trackingNumber:"",notes:"",description:""}),C=async()=>{if(!o.name){f.addNotification({type:"error",message:"Sample name is required"});return}V.value=!0;try{await S.createSample(o),f.addNotification({type:"success",message:"Sample created successfully"}),_.push("/samples")}catch(c){f.addNotification({type:"error",message:c.message||"Failed to create sample"})}finally{V.value=!1}},N=()=>{_.push("/samples")};return(c,e)=>{const k=n("router-link"),s=n("el-input"),d=n("el-form-item"),u=n("el-option"),i=n("el-select"),m=n("el-date-picker"),w=n("el-button"),A=n("el-form");return p(),b("div",P,[r("div",Y,[e[46]||(e[46]=r("h1",null,"Sample Information",-1)),l(k,{to:"/samples",class:"back-link"},{default:t(()=>e[45]||(e[45]=[r("i",{class:"el-icon-arrow-left"},null,-1),v(" Back to Samples ")])),_:1,__:[45]})]),r("div",z,[l(A,{onSubmit:x(C,["prevent"]),"label-position":"top"},{default:t(()=>[r("div",F,[e[47]||(e[47]=r("h3",null,"Sample info",-1)),r("div",H,[l(d,{label:"Sample name"},{default:t(()=>[l(s,{modelValue:o.name,"onUpdate:modelValue":e[0]||(e[0]=a=>o.name=a),placeholder:"Write sample initial here"},null,8,["modelValue"])]),_:1}),l(d,{label:"Country"},{default:t(()=>[l(i,{modelValue:o.country,"onUpdate:modelValue":e[1]||(e[1]=a=>o.country=a),placeholder:"Select country",filterable:""},{default:t(()=>[(p(),b(y,null,U(h,a=>l(u,{key:a.value,label:a.label,value:a.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),r("div",T,[l(d,{label:"Sample type"},{default:t(()=>[l(i,{modelValue:o.type,"onUpdate:modelValue":e[2]||(e[2]=a=>o.type=a),placeholder:"Select type"},{default:t(()=>[l(u,{label:"Green",value:"green"}),l(u,{label:"Roasted",value:"roasted"}),l(u,{label:"Ground",value:"ground"})]),_:1},8,["modelValue"])]),_:1}),l(d,{label:"Sample Grade"},{default:t(()=>[l(i,{modelValue:o.grade,"onUpdate:modelValue":e[3]||(e[3]=a=>o.grade=a),placeholder:"Select grade"},{default:t(()=>[l(u,{label:"A",value:"A"}),l(u,{label:"AA",value:"AA"}),l(u,{label:"AAA",value:"AAA"}),l(u,{label:"B",value:"B"}),l(u,{label:"C",value:"C"})]),_:1},8,["modelValue"])]),_:1})])]),r("div",O,[r("div",q,[l(d,{label:"Purchase Grade"},{default:t(()=>[l(s,{modelValue:o.purchaseGrade,"onUpdate:modelValue":e[4]||(e[4]=a=>o.purchaseGrade=a),placeholder:"Enter purchase grade"},null,8,["modelValue"])]),_:1}),l(d,{label:"Supplier/Manufacturer"},{default:t(()=>[l(s,{modelValue:o.supplier,"onUpdate:modelValue":e[5]||(e[5]=a=>o.supplier=a),placeholder:"Enter supplier"},null,8,["modelValue"])]),_:1})]),r("div",K,[l(d,{label:"Producer name"},{default:t(()=>[l(s,{modelValue:o.producer,"onUpdate:modelValue":e[6]||(e[6]=a=>o.producer=a),placeholder:"Enter producer name"},null,8,["modelValue"])]),_:1}),l(d,{label:"Purchase Contract Reference #"},{default:t(()=>[l(s,{modelValue:o.purchaseRef,"onUpdate:modelValue":e[7]||(e[7]=a=>o.purchaseRef=a),placeholder:"Enter reference number"},null,8,["modelValue"])]),_:1})]),r("div",X,[l(d,{label:"Strategy"},{default:t(()=>[l(s,{modelValue:o.strategy,"onUpdate:modelValue":e[8]||(e[8]=a=>o.strategy=a),placeholder:"Enter strategy"},null,8,["modelValue"])]),_:1}),l(d,{label:"Customer"},{default:t(()=>[l(s,{modelValue:o.customer,"onUpdate:modelValue":e[9]||(e[9]=a=>o.customer=a),placeholder:"Enter customer"},null,8,["modelValue"])]),_:1})]),r("div",j,[l(d,{label:"Customer Code"},{default:t(()=>[l(s,{modelValue:o.customerCode,"onUpdate:modelValue":e[10]||(e[10]=a=>o.customerCode=a),placeholder:"Enter customer code"},null,8,["modelValue"])]),_:1}),l(d,{label:"Sales Contracts Reference #"},{default:t(()=>[l(s,{modelValue:o.salesRef,"onUpdate:modelValue":e[11]||(e[11]=a=>o.salesRef=a),placeholder:"Enter reference number"},null,8,["modelValue"])]),_:1})])]),r("div",J,[r("div",Q,[l(d,{label:"Received date"},{default:t(()=>[l(m,{modelValue:o.receivedDate,"onUpdate:modelValue":e[12]||(e[12]=a=>o.receivedDate=a),type:"date",placeholder:"Select date"},null,8,["modelValue"])]),_:1}),l(d,{label:"Date of Dispatch"},{default:t(()=>[l(m,{modelValue:o.dispatchDate,"onUpdate:modelValue":e[13]||(e[13]=a=>o.dispatchDate=a),type:"date",placeholder:"Select date"},null,8,["modelValue"])]),_:1})]),r("div",Z,[l(d,{label:"Date of Arrival"},{default:t(()=>[l(m,{modelValue:o.arrivalDate,"onUpdate:modelValue":e[14]||(e[14]=a=>o.arrivalDate=a),type:"date",placeholder:"Select date"},null,8,["modelValue"])]),_:1}),l(d,{label:"Date of Results"},{default:t(()=>[l(m,{modelValue:o.resultsDate,"onUpdate:modelValue":e[15]||(e[15]=a=>o.resultsDate=a),type:"date",placeholder:"Select date"},null,8,["modelValue"])]),_:1})])]),r("div",$,[r("div",ee,[l(d,{label:"Harvest"},{default:t(()=>[l(s,{modelValue:o.harvest,"onUpdate:modelValue":e[16]||(e[16]=a=>o.harvest=a),placeholder:"Enter harvest"},null,8,["modelValue"])]),_:1}),l(d,{label:"External Identification"},{default:t(()=>[l(s,{modelValue:o.externalId,"onUpdate:modelValue":e[17]||(e[17]=a=>o.externalId=a),placeholder:"Enter external ID"},null,8,["modelValue"])]),_:1})]),r("div",le,[l(d,{label:"Reference number"},{default:t(()=>[l(s,{modelValue:o.referenceNumber,"onUpdate:modelValue":e[18]||(e[18]=a=>o.referenceNumber=a),placeholder:"Enter reference number"},null,8,["modelValue"])]),_:1}),l(d,{label:"Sample Reference"},{default:t(()=>[l(s,{modelValue:o.sampleReference,"onUpdate:modelValue":e[19]||(e[19]=a=>o.sampleReference=a),placeholder:"Enter sample reference"},null,8,["modelValue"])]),_:1})])]),r("div",ae,[r("div",oe,[l(d,{label:"Coffee processing"},{default:t(()=>[l(s,{modelValue:o.processing,"onUpdate:modelValue":e[20]||(e[20]=a=>o.processing=a),placeholder:"Enter processing method"},null,8,["modelValue"])]),_:1}),l(d,{label:"Certification"},{default:t(()=>[l(s,{modelValue:o.certification,"onUpdate:modelValue":e[21]||(e[21]=a=>o.certification=a),placeholder:"Enter certification"},null,8,["modelValue"])]),_:1})]),r("div",te,[l(d,{label:"Preferred cupping protocol"},{default:t(()=>[l(i,{modelValue:o.protocol,"onUpdate:modelValue":e[22]||(e[22]=a=>o.protocol=a),placeholder:"Select protocol"},{default:t(()=>[l(u,{label:"Arabica",value:"arabica"}),l(u,{label:"Robusta",value:"robusta"}),l(u,{label:"SCA",value:"sca"})]),_:1},8,["modelValue"])]),_:1}),l(d,{label:"Species"},{default:t(()=>[l(i,{modelValue:o.species,"onUpdate:modelValue":e[23]||(e[23]=a=>o.species=a),placeholder:"Select species"},{default:t(()=>[l(u,{label:"Arabica",value:"arabica"}),l(u,{label:"Robusta",value:"robusta"}),l(u,{label:"Blend",value:"blend"})]),_:1},8,["modelValue"])]),_:1})])]),r("div",re,[r("div",de,[l(d,{label:"Varietals"},{default:t(()=>[l(s,{modelValue:o.varietals,"onUpdate:modelValue":e[24]||(e[24]=a=>o.varietals=a),placeholder:"Enter varietals"},null,8,["modelValue"])]),_:1}),l(d,{label:"Received weight"},{default:t(()=>[r("div",se,[l(s,{modelValue:o.receivedWeight,"onUpdate:modelValue":e[25]||(e[25]=a=>o.receivedWeight=a),placeholder:"Enter weight"},null,8,["modelValue"]),e[48]||(e[48]=r("span",{class:"unit"},"gr",-1))])]),_:1})]),r("div",ue,[l(d,{label:"Crop year"},{default:t(()=>[l(i,{modelValue:o.cropYear,"onUpdate:modelValue":e[26]||(e[26]=a=>o.cropYear=a),placeholder:"Select year"},{default:t(()=>[(p(!0),b(y,null,U(M(E),a=>(p(),G(u,{key:a,label:a,value:a},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(d,{label:"Number of bags"},{default:t(()=>[l(s,{modelValue:o.bagCount,"onUpdate:modelValue":e[27]||(e[27]=a=>o.bagCount=a),placeholder:"Enter number of bags"},null,8,["modelValue"])]),_:1})])]),r("div",ne,[r("div",ie,[l(d,{label:"Bag weight"},{default:t(()=>[r("div",me,[l(s,{modelValue:o.bagWeight,"onUpdate:modelValue":e[28]||(e[28]=a=>o.bagWeight=a),placeholder:"Enter weight"},null,8,["modelValue"]),e[49]||(e[49]=r("span",{class:"unit"},"kg",-1))])]),_:1}),l(d,{label:"Moisture"},{default:t(()=>[r("div",pe,[l(s,{modelValue:o.moisture,"onUpdate:modelValue":e[29]||(e[29]=a=>o.moisture=a),placeholder:"Enter moisture"},null,8,["modelValue"]),e[50]||(e[50]=r("span",{class:"unit"},"%",-1))])]),_:1})]),r("div",fe,[l(d,{label:"Water activity"},{default:t(()=>[l(s,{modelValue:o.waterActivity,"onUpdate:modelValue":e[30]||(e[30]=a=>o.waterActivity=a),placeholder:"Enter water activity"},null,8,["modelValue"])]),_:1}),l(d,{label:"Density"},{default:t(()=>[r("div",Ve,[l(s,{modelValue:o.density,"onUpdate:modelValue":e[31]||(e[31]=a=>o.density=a),placeholder:"Enter density"},null,8,["modelValue"]),e[51]||(e[51]=r("span",{class:"unit"},"g/L",-1))])]),_:1})])]),r("div",ce,[r("div",be,[l(d,{label:"Temperature"},{default:t(()=>[l(s,{modelValue:o.temperature,"onUpdate:modelValue":e[32]||(e[32]=a=>o.temperature=a),placeholder:"Enter temperature"},null,8,["modelValue"])]),_:1}),l(d,{label:"Mass"},{default:t(()=>[r("div",ve,[l(s,{modelValue:o.mass,"onUpdate:modelValue":e[33]||(e[33]=a=>o.mass=a),placeholder:"Enter mass"},null,8,["modelValue"]),e[52]||(e[52]=r("span",{class:"unit"},"gr",-1))])]),_:1})]),r("div",_e,[l(d,{label:"Volume"},{default:t(()=>[r("div",ge,[l(s,{modelValue:o.volume,"onUpdate:modelValue":e[34]||(e[34]=a=>o.volume=a),placeholder:"Enter volume"},null,8,["modelValue"]),e[53]||(e[53]=r("span",{class:"unit"},"mL",-1))])]),_:1}),l(d,{label:"Warehouse"},{default:t(()=>[l(s,{modelValue:o.warehouse,"onUpdate:modelValue":e[35]||(e[35]=a=>o.warehouse=a),placeholder:"Enter warehouse"},null,8,["modelValue"])]),_:1})])]),r("div",we,[r("div",ye,[l(d,{label:"Sample Location"},{default:t(()=>[l(s,{modelValue:o.location,"onUpdate:modelValue":e[36]||(e[36]=a=>o.location=a),placeholder:"Enter location"},null,8,["modelValue"])]),_:1}),l(d,{label:"Shipment Month"},{default:t(()=>[l(m,{modelValue:o.shipmentMonth,"onUpdate:modelValue":e[37]||(e[37]=a=>o.shipmentMonth=a),type:"month",placeholder:"Select month"},null,8,["modelValue"])]),_:1})]),r("div",Ue,[l(d,{label:"Cargo/Seal #"},{default:t(()=>[l(s,{modelValue:o.cargoSeal,"onUpdate:modelValue":e[38]||(e[38]=a=>o.cargoSeal=a),placeholder:"Enter cargo/seal number"},null,8,["modelValue"])]),_:1}),l(d,{label:"Container Number"},{default:t(()=>[l(s,{modelValue:o.containerNumber,"onUpdate:modelValue":e[39]||(e[39]=a=>o.containerNumber=a),placeholder:"Enter container number"},null,8,["modelValue"])]),_:1})])]),r("div",Se,[r("div",he,[l(d,{label:"Lot Number/ICO Marks"},{default:t(()=>[l(s,{modelValue:o.lotNumber,"onUpdate:modelValue":e[40]||(e[40]=a=>o.lotNumber=a),placeholder:"Enter lot number"},null,8,["modelValue"])]),_:1}),l(d,{label:"Courier"},{default:t(()=>[l(s,{modelValue:o.courier,"onUpdate:modelValue":e[41]||(e[41]=a=>o.courier=a),placeholder:"Enter courier"},null,8,["modelValue"])]),_:1})]),r("div",Ee,[l(d,{label:"Tracking Number"},{default:t(()=>[l(s,{modelValue:o.trackingNumber,"onUpdate:modelValue":e[42]||(e[42]=a=>o.trackingNumber=a),placeholder:"Enter tracking number"},null,8,["modelValue"])]),_:1})])]),r("div",Ce,[r("div",Ne,[l(d,{label:"Notes and remarks"},{default:t(()=>[l(s,{modelValue:o.notes,"onUpdate:modelValue":e[43]||(e[43]=a=>o.notes=a),type:"textarea",rows:"4",placeholder:"Enter notes and remarks"},null,8,["modelValue"])]),_:1})]),r("div",ke,[l(d,{label:"Description"},{default:t(()=>[l(s,{modelValue:o.description,"onUpdate:modelValue":e[44]||(e[44]=a=>o.description=a),type:"textarea",rows:"4",placeholder:"Enter description"},null,8,["modelValue"])]),_:1})])]),r("div",Ae,[l(w,{type:"primary","native-type":"submit",loading:V.value},{default:t(()=>e[54]||(e[54]=[v("Save")])),_:1,__:[54]},8,["loading"]),l(w,{onClick:N},{default:t(()=>e[55]||(e[55]=[v("Discard")])),_:1,__:[55]})])]),_:1})])])}}},Ge=W(De,[["__scopeId","data-v-d6c9db48"]]);export{Ge as default};
