import{_ as I}from"./no-results-DsLkuETs.js";import{r as f,k as O,y as p,A as l,P as s,H as t,ag as u,D as x,O as U,a6 as j,ax as q,z as m,L as n,M as w}from"./vue-vendor-BT5MiFnI.js";import{u as J}from"./samples.store-DkDRuqmU.js";import{_ as K,a as Q}from"./index-Bzmosz0d.js";const W={class:"samples-view"},X={class:"page-header"},Y={class:"header-actions"},Z={class:"view-toggles"},h={class:"samples-container"},ee={key:0,class:"loading-state"},le={key:1,class:"empty-state"},se={key:2},te={key:0,class:"samples-list"},ne={key:1,class:"samples-grid"},oe={class:"sample-details"},ae={class:"sample-actions"},ie={class:"pagination"},de={__name:"SamplesView",setup(re){const b=q(),N=J(),d=Q(),y=f([]),C=f(!0),_=f("list"),c=f(1),$=f(10),V=f(0);O(async()=>{await k()});const k=async()=>{C.value=!0;try{const a=await N.fetchSamples({page:c.value,limit:$.value});y.value=a.data,V.value=a.pagination.total}catch{d.addNotification({type:"error",message:"Failed to fetch samples"})}finally{C.value=!1}},D=a=>{c.value=a,k()},r=a=>{b.push(a)},A=a=>{b.push(`/samples/${a}`)},z=async a=>{try{await N.deleteSample(a),d.addNotification({type:"success",message:"Sample deleted successfully"}),k()}catch{d.addNotification({type:"error",message:"Failed to delete sample"})}},G=()=>{d.addNotification({type:"info",message:"Downloading CSV..."})},T=()=>{d.addNotification({type:"info",message:"Downloading all samples as CSV..."})},L=()=>{d.addNotification({type:"info",message:"Generating combined report..."})},R=()=>{d.addNotification({type:"info",message:"Generating label..."})},B=()=>{d.addNotification({type:"info",message:"Advanced search feature coming soon"})};return(a,e)=>{const v=u("el-button"),i=u("el-dropdown-item"),F=u("el-dropdown-menu"),M=u("el-dropdown"),P=u("el-spinner"),g=u("el-table-column"),E=u("el-table"),H=u("el-pagination");return m(),p("div",W,[l("div",X,[e[25]||(e[25]=l("h1",null,"Samples",-1)),l("div",Y,[s(M,null,{dropdown:t(()=>[s(F,null,{default:t(()=>[s(i,{onClick:e[0]||(e[0]=o=>r("/samples/new"))},{default:t(()=>e[11]||(e[11]=[l("i",{class:"el-icon-plus"},null,-1),n(" New Sample ")])),_:1,__:[11]}),s(i,{onClick:e[1]||(e[1]=o=>r("/samples/multiple"))},{default:t(()=>e[12]||(e[12]=[l("i",{class:"el-icon-plus"},null,-1),n(" Add multiple samples ")])),_:1,__:[12]}),s(i,{onClick:e[2]||(e[2]=o=>r("/samples/edit"))},{default:t(()=>e[13]||(e[13]=[l("i",{class:"el-icon-edit"},null,-1),n(" Edit Sample ")])),_:1,__:[13]}),s(i,{onClick:e[3]||(e[3]=o=>r("/shipments/new"))},{default:t(()=>e[14]||(e[14]=[l("i",{class:"el-icon-box"},null,-1),n(" New Shipment ")])),_:1,__:[14]}),s(i,{onClick:e[4]||(e[4]=o=>r("/cupping-sessions/new"))},{default:t(()=>e[15]||(e[15]=[l("i",{class:"el-icon-coffee-cup"},null,-1),n(" New Cupping Session ")])),_:1,__:[15]}),s(i,{onClick:e[5]||(e[5]=o=>r("/samples/compare"))},{default:t(()=>e[16]||(e[16]=[l("i",{class:"el-icon-data-analysis"},null,-1),n(" Compare ")])),_:1,__:[16]}),s(i,{onClick:e[6]||(e[6]=o=>r("/samples/share"))},{default:t(()=>e[17]||(e[17]=[l("i",{class:"el-icon-share"},null,-1),n(" Share ")])),_:1,__:[17]}),s(i,{onClick:G},{default:t(()=>e[18]||(e[18]=[l("i",{class:"el-icon-download"},null,-1),n(" Download To CSV ")])),_:1,__:[18]}),s(i,{onClick:T},{default:t(()=>e[19]||(e[19]=[l("i",{class:"el-icon-download"},null,-1),n(" Download All To CSV ")])),_:1,__:[19]}),s(i,{onClick:L},{default:t(()=>e[20]||(e[20]=[l("i",{class:"el-icon-document"},null,-1),n(" Generate Combined Report ")])),_:1,__:[20]}),s(i,{onClick:R},{default:t(()=>e[21]||(e[21]=[l("i",{class:"el-icon-printer"},null,-1),n(" Generate Label ")])),_:1,__:[21]}),s(i,{onClick:B},{default:t(()=>e[22]||(e[22]=[l("i",{class:"el-icon-search"},null,-1),n(" Advance search ")])),_:1,__:[22]})]),_:1})]),default:t(()=>[s(v,{type:"primary"},{default:t(()=>e[10]||(e[10]=[n(" Action "),l("i",{class:"el-icon-arrow-down"},null,-1)])),_:1,__:[10]})]),_:1}),l("div",Z,[l("button",{class:x({active:_.value==="list"}),onClick:e[7]||(e[7]=o=>_.value="list")},e[23]||(e[23]=[l("i",{class:"el-icon-menu"},null,-1)]),2),l("button",{class:x({active:_.value==="grid"}),onClick:e[8]||(e[8]=o=>_.value="grid")},e[24]||(e[24]=[l("i",{class:"el-icon-s-grid"},null,-1)]),2)])])]),l("div",h,[C.value?(m(),p("div",ee,[s(P),e[26]||(e[26]=l("p",null,"Loading samples...",-1))])):y.value.length===0?(m(),p("div",le,[e[28]||(e[28]=l("img",{src:I,alt:"No Results",class:"icon"},null,-1)),e[29]||(e[29]=l("h2",{class:"title"},"No results found",-1)),e[30]||(e[30]=l("p",{class:"description"},"No samples have been added yet. Start by adding your first sample.",-1)),s(v,{type:"primary",onClick:e[9]||(e[9]=o=>r("/samples/new"))},{default:t(()=>e[27]||(e[27]=[l("i",{class:"el-icon-plus"},null,-1),n(" New Sample ")])),_:1,__:[27]})])):(m(),p("div",se,[_.value==="list"?(m(),p("div",te,[s(E,{data:y.value,style:{width:"100%"}},{default:t(()=>[s(g,{prop:"name",label:"Name"}),s(g,{prop:"country",label:"Country"}),s(g,{prop:"type",label:"Type"}),s(g,{prop:"grade",label:"Grade"}),s(g,{prop:"createdAt",label:"Created At"}),s(g,{label:"Actions",width:"150"},{default:t(o=>[s(v,{size:"small",onClick:S=>A(o.row.id)},{default:t(()=>e[31]||(e[31]=[n("View")])),_:2,__:[31]},1032,["onClick"]),s(v,{size:"small",type:"danger",onClick:S=>z(o.row.id)},{default:t(()=>e[32]||(e[32]=[n("Delete")])),_:2,__:[32]},1032,["onClick"])]),_:1})]),_:1},8,["data"])])):(m(),p("div",ne,[(m(!0),p(U,null,j(y.value,o=>(m(),p("div",{key:o.id,class:"sample-card"},[l("h3",null,w(o.name),1),l("div",oe,[l("p",null,[e[33]||(e[33]=l("strong",null,"Country:",-1)),n(" "+w(o.country),1)]),l("p",null,[e[34]||(e[34]=l("strong",null,"Type:",-1)),n(" "+w(o.type),1)]),l("p",null,[e[35]||(e[35]=l("strong",null,"Grade:",-1)),n(" "+w(o.grade),1)])]),l("div",ae,[s(v,{size:"small",onClick:S=>A(o.id)},{default:t(()=>e[36]||(e[36]=[n("View")])),_:2,__:[36]},1032,["onClick"]),s(v,{size:"small",type:"danger",onClick:S=>z(o.id)},{default:t(()=>e[37]||(e[37]=[n("Delete")])),_:2,__:[37]},1032,["onClick"])])]))),128))])),l("div",ie,[s(H,{layout:"prev, pager, next",total:V.value,"page-size":$.value,"current-page":c.value,onCurrentChange:D},null,8,["total","page-size","current-page"])])]))])])}}},ge=K(de,[["__scopeId","data-v-5737b811"]]);export{ge as default};
